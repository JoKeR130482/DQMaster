<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DQMaster — Проекты</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>

    <header class="main-header">
        <div class="header-content">
            <h1 class="main-title">Мои проекты</h1>
            <nav class="main-nav">
                <a href="/rules" class="nav-link">Библиотека правил</a>
                <a href="/templates" class="nav-link">Шаблоны</a>
            </nav>
            <button id="create-project-btn" class="action-button">Создать проект</button>
        </div>
    </header>

    <main class="content-wrapper">
        <div id="loading" class="loading-spinner" style="display: none;"></div>

        <!-- This container is now a grid for project cards, replacing the old table -->
        <div id="projects-list-container">
            <div id="projects-tbody">
                <!-- Project cards will be injected here by JS. The ID is kept for compatibility. -->
            </div>
        </div>
        <p id="no-projects-message" style="display: none;">Проектов пока нет. Создайте первый.</p>
    </main>

    <!-- Modals and Toasts remain unchanged as they are separate components -->
    <div id="create-project-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Создать новый проект</h2>
            <div class="form-group">
                <label for="project-name-input">Название проекта</label>
                <input type="text" id="project-name-input" placeholder="Например, 'Анализ клиентов Q3'">
            </div>
            <div class="form-group">
                <label for="project-description-input">Описание (необязательно)</label>
                <textarea id="project-description-input" rows="3" placeholder="Краткое описание целей проекта"></textarea>
            </div>
            <div class="modal-actions">
                <button id="cancel-create-project-btn" class="secondary-button">Отмена</button>
                <button id="confirm-create-project-btn" class="action-button">Создать</button>
            </div>
        </div>
    </div>

    <div id="edit-project-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Редактировать проект</h2>
            <input type="hidden" id="edit-project-id">
            <div class="form-group">
                <label for="edit-project-name-input">Название проекта</label>
                <input type="text" id="edit-project-name-input">
            </div>
            <div class="form-group">
                <label for="edit-project-description-input">Описание (необязательно)</label>
                <textarea id="edit-project-description-input" rows="3"></textarea>
            </div>
            <div class="modal-actions">
                <button id="cancel-edit-project-btn" class="secondary-button">Отмена</button>
                <button id="confirm-edit-project-btn" class="action-button">Сохранить</button>
            </div>
        </div>
    </div>

    <div id="notification-toast" class="toast"></div>

    <script src="/static/script.js"></script>
</body>
</html>